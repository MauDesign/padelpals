Users [icon: newspaper, color: red] {
    id int pk
    name string
    email string unique
    email_verified_at timestamp nullable
    password string
    remember_token string
    created_at timestamp
    updated_at timestamp
}

PasswordResetTokens [icon: newspaper, color: red] {
    email string pk
    token string
    created_at timestamp nullable
}

Sessions [icon: newspaper, color: red] {
    id string pk
    user_id int fk index nullable
    ip_address string(45) nullable
    user_agent text nullable
    payload longtext
    last_activity int index
}

Cache [icon: newspaper, color: red] {
    key string pk
    value mediumtext
    expiration int
}

CacheLocks [icon: newspaper, color: red] {
    key string pk
    owner string
    expiration int
}

Jobs [icon: newspaper, color: red] {
    id int pk
    queue string index
    payload longtext
    attempts tinyint unsigned
    reserved_at int unsigned nullable
    available_at int unsigned
    created_at int unsigned
}

JobBatches [icon: newspaper, color: red] {
    id string pk
    name string
    total_jobs int
    pending_jobs int
    failed_jobs int
    failed_job_ids longtext
    options mediumtext nullable
    cancelled_at int nullable
    created_at int
    finished_at int nullable
}

FailedJobs [icon: newspaper, color: red] {
    id int pk
    uuid string unique
    connection text
    queue text
    payload longtext
    exception longtext
    failed_at timestamp
}

Leagues [icon: newspaper, color: red] {
    id int pk
    name string
    created_at timestamp
    updated_at timestamp
}

Players [icon: newspaper, color: red] {
    id int pk
    name string
}

Courts [icon: newspaper, color: red] {
    id int pk
    league_id int fk
    name string
    priority int
    default_time time
}

LeaguePlayers [icon: newspaper, color: red] {
    id int pk
    league_id int fk
    player_id int fk
    initial_court_id int fk
}

Matchdays [icon: newspaper, color: red] {
    id int pk
    league_id int fk
    name string
    date date
}

Matches [icon: newspaper, color: red] {
    id int pk
    matchday_id int fk
    court_id int fk
    right_player_one_id int fk
    right_player_two_id int fk
    left_player_one_id int fk
    left_player_two_id int fk
    starts_at datetime
    right_team_games int
    left_team_games int
    is_final boolean
    created_at timestamp
    updated_at timestamp
}

MatchdayRankings [icon: newspaper, color: red] {
    id int pk
    player_id int fk
    matchday_id int fk
    won_games int
    lost_games int
    points int
}

GlobalRankings [icon: newspaper, color: red] {
    id int pk
    league_id int fk
    player_id int fk
    points int
    won_games int
    lost_games int
}

Clubs [icon: newspaper, color: red] {
    id int pk
    name string
    city string
    email string
    phone string
    website string
    address string
    created_at timestamp
    updated_at timestamp
}

Challenges [icon: newspaper, color: red] {
    id int pk
    club_id int fk
    name string
    date date
    time time
    courts int
    type string
    endpoint string
    tie_break boolean
    matching string
    no_players string
    created_at timestamp
    updated_at timestamp
}

ChallengePlayers [icon: newspaper, color: red] {
    id int pk
    challenge_id int fk
    name string
    created_at timestamp
    updated_at timestamp
}

Courts.league_id > Leagues.id

LeaguePlayers.league_id > Leagues.id
LeaguePlayers.player_id > Players.id

Matchdays.league_id > Leagues.id

Matches.matchday_id > Matchdays.id
Matches.court_id > Courts.id
Matches.right_player_one_id > Players.id
Matches.right_player_two_id > Players.id
Matches.left_player_one_id > Players.id
Matches.left_player_two_id > Players.id

MatchdayRankings.player_id > Players.id
MatchdayRankings.matchday_id > Matchdays.id

GlobalRankings.league_id > Leagues.id
GlobalRankings.player_id > Players.id

Challenges.club_id > Clubs.id

ChallengePlayers.challenge_id > Challenges.id
